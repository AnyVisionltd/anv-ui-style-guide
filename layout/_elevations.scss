$elevations-opacity: (
  flat: 1,
  raised: 0.07,
  overlay: 0.09,
  sticky: 0.12,
  temporary: 0.15,
  pop-out: 0.16
) !default;

$elevations-shadow-opacity: (
  raised: 0.1,
  overlay: 0.1,
  sticky: 0.12,
  temporary: 0.1,
  pop-out: 0.1
) !default;

@mixin av-elevation($key) {
  $opacity: 1 !default;
  $elevation-opacity: map-get($elevations-opacity, $key);
  $shadow-opacity: map-get($elevations-shadow-opacity, $key);
  display: flex;
  position: relative;
  background-color: av-color(surface);

  @if($elevation-opacity) {
    $opacity: $elevation-opacity;
  }

  @if($shadow-opacity) {
    box-shadow: av-shadow(large, av-color(trueblack, $shadow-opacity));
  }

  &:before {
    width: 100%;
    height: 100%;
    display: block;
    position: absolute;
    content: '';
    background-color: rgba(#fff, $elevation-opacity);
  }

  // To make sure all elements that are not part of the background will be above!
  // DO NOT REMOVE!
  > * {
    z-index: 0;
  }
}
